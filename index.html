<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>AaronOS v5 – Unified Dashboard</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="theme-perplexity.css">
  <style>
    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }

    .card h2 {
      margin-top: 0;
      color: #fff;
      font-size: 1.5rem;
    }

    .card p {
      margin: 0.5rem 0 1rem;
      line-height: 1.6;
    }

    .wizard-grid {
      display: grid;
      gap: 1.5rem;
    }

    .discovery-list,
    .issues-list {
      display: grid;
      gap: 0.75rem;
      padding: 0;
      margin: 0;
      list-style: none;
    }

    .discovery-list li,
    .issues-list li {
      padding: 1rem;
      border-radius: 8px;
      background: rgba(148, 163, 184, 0.08);
      border: 1px solid rgba(148, 163, 184, 0.2);
    }

    .issues-list strong {
      color: #fff;
    }

    .stepper button {
      counter-increment: step;
    }

    .stepper button::before {
      content: counter(step);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 2rem;
      height: 2rem;
      margin-bottom: 0.35rem;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.1);
      color: inherit;
      font-weight: 600;
    }

    .scanning-summary {
      display: grid;
      gap: 0.75rem;
    }

    .scanning-summary div {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.75rem 1rem;
      border-radius: 8px;
      background: rgba(20, 184, 166, 0.08);
      border: 1px solid rgba(20, 184, 166, 0.25);
      color: #fff;
      font-weight: 600;
    }

    .filters {
      display: flex;
      gap: 0.75rem;
      flex-wrap: wrap;
    }

    .filters button {
      flex: 1 1 160px;
    }

    .export-options {
      display: grid;
      gap: 1rem;
    }

    .export-options label {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .export-options input {
      width: auto;
    }

    @media (max-width: 768px) {
      .stepper {
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 0.5rem;
      }

      .stepper button {
        padding: 0.75rem 0.5rem;
        font-size: 0.8rem;
      }

      .stepper button::after {
        content: attr(data-label);
        font-size: 0.7rem;
        margin-top: 0.25rem;
      }

      header {
        flex-direction: column;
        align-items: flex-start;
        padding: 1rem;
        gap: 1rem;
      }

      header h1 {
        font-size: 1.5rem;
        margin: 0;
      }

      nav {
        flex-wrap: wrap;
        gap: 0.5rem;
        width: 100%;
      }

      nav .button {
        flex: 1;
        min-width: 120px;
        font-size: 0.9rem;
        padding: 0.75rem 1rem;
      }

      main {
        padding: 1rem;
      }

      .card {
        padding: 1rem;
      }

      .wizard-grid {
        gap: 1rem;
      }

      .discovery-list,
      .issues-list {
        gap: 0.5rem;
      }

      .discovery-list li,
      .issues-list li {
        padding: 0.75rem;
      }

      .scanning-summary {
        gap: 0.5rem;
      }

      .scanning-summary div {
        padding: 0.5rem 0.75rem;
        font-size: 0.9rem;
      }

      .filters {
        flex-direction: column;
        gap: 0.5rem;
      }

      .filters button {
        flex: none;
        width: 100%;
      }

      .export-options {
        gap: 0.75rem;
      }

      .export-options label {
        font-size: 0.9rem;
      }

      .button-group {
        flex-direction: column;
        gap: 1rem;
      }

      .button-group .button {
        width: 100%;
      }

      .progress-indicator {
        flex-direction: column;
        text-align: center;
        gap: 0.75rem;
      }

      .progress-indicator .spinner {
        width: 60px;
        height: 60px;
        margin: 0 auto;
      }

      input,
      textarea,
      select {
        font-size: 16px; /* Prevents zoom on iOS */
        padding: 0.75rem;
      }

      .status-log {
        padding: 0.75rem;
        font-size: 0.9rem;
      }
    }

    @media (max-width: 480px) {
      header {
        padding: 0.75rem;
      }

      main {
        padding: 0.75rem;
      }

      .card {
        padding: 0.75rem;
      }

      .stepper {
        grid-template-columns: 1fr;
        gap: 0.5rem;
      }

      .stepper button {
        padding: 1rem 0.5rem;
      }

      .stepper button::after {
        font-size: 0.75rem;
      }

      .wizard-step h3 {
        font-size: 1.25rem;
      }

      .wizard-step p {
        font-size: 0.9rem;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>AaronOS v5</h1>
    <nav aria-label="Primary navigation">
      <button type="button" class="button btn-secondary">Dashboard</button>
      <button type="button" class="button btn-secondary">Scanner</button>
      <button type="button" class="button btn-secondary">Outreach</button>
    </nav>
  </header>

  <main>
    <section class="card" aria-labelledby="scanner-wizard-title">
      <ol class="stepper" aria-label="WCAG scanner steps">
        <li>
          <button type="button" class="button active" aria-current="step" data-step="1" data-label="Keywords" aria-controls="step-1">
            <span class="sr-only">Step 1</span>
          </button>
        </li>
        <li>
          <button type="button" class="button" data-step="2" data-label="Discovery" aria-controls="step-2">
            <span class="sr-only">Step 2</span>
          </button>
        </li>
        <li>
          <button type="button" class="button" data-step="3" data-label="Scanning" aria-controls="step-3">
            <span class="sr-only">Step 3</span>
          </button>
        </li>
        <li>
          <button type="button" class="button" data-step="4" data-label="Overview" aria-controls="step-4">
            <span class="sr-only">Step 4</span>
          </button>
        </li>
        <li>
          <button type="button" class="button" data-step="5" data-label="Drilldown" aria-controls="step-5">
            <span class="sr-only">Step 5</span>
          </button>
        </li>
      </ol>

      <h2 id="scanner-wizard-title">WCAG Scanner Wizard</h2>
      <p id="wizard-description">Configure your accessibility scan, monitor progress, and export actionable reports.</p>

      <div class="wizard-grid" aria-live="polite">
        <article id="step-1" class="wizard-step active" role="tabpanel" aria-labelledby="step-label-1">
          <h3 id="step-label-1">Step 1: Keywords &amp; Settings</h3>
          <p>Enter the target domains you want to scan and choose an industry benchmark.</p>
          <label for="target-domains" class="sr-only">Target domains</label>
          <input id="target-domains" name="target-domains" type="text" placeholder="e.g., example.com, competitor.com" autocomplete="url">
          <label for="benchmark" class="sr-only">Benchmark</label>
          <select id="benchmark" name="benchmark">
            <option value="finance">Finance Accessibility Benchmark</option>
            <option value="retail">Retail Accessibility Benchmark</option>
            <option value="education">Education Accessibility Benchmark</option>
          </select>
        </article>

        <article id="step-2" class="wizard-step" role="tabpanel" aria-labelledby="step-label-2" aria-hidden="true">
          <h3 id="step-label-2">Step 2: Discovery</h3>
          <p>Select the domains you'd like to include in the scan.</p>
          <ul class="discovery-list">
            <li>
              <label>
                <input type="checkbox" name="domain" value="example.com" checked>
                example.com – Official site
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" name="domain" value="inclusivedesign.io">
                inclusivedesign.io – Accessibility insights blog
              </label>
            </li>
            <li>
              <label>
                <input type="checkbox" name="domain" value="accessibility.gov">
                accessibility.gov – Compliance resources
              </label>
            </li>
          </ul>
        </article>

        <article id="step-3" class="wizard-step" role="tabpanel" aria-labelledby="step-label-3" aria-hidden="true">
          <h3 id="step-label-3">Step 3: Scanning</h3>
          <div class="progress-indicator">
            <div class="spinner" role="progressbar" aria-valuetext="Scanning in progress"></div>
            <div>
              <p>Scanning in progress…</p>
              <p aria-live="assertive">Estimated time remaining: <span id="scan-timer">45</span> seconds</p>
            </div>
          </div>
          <div class="scanning-summary">
            <div><span>Pages queued</span><span id="pages-queued">18</span></div>
            <div><span>Critical errors</span><span id="critical-errors">0</span></div>
            <div><span>Warnings</span><span id="warning-count">0</span></div>
          </div>
        </article>

        <article id="step-4" class="wizard-step" role="tabpanel" aria-labelledby="step-label-4" aria-hidden="true">
          <h3 id="step-label-4">Step 4: Overview</h3>
          <p>Summary of the scan results compared to your selected benchmark.</p>
          <div class="scanning-summary">
            <div><span>Overall score</span><span id="overview-score">75%</span></div>
            <div><span>High risk issues</span><span id="overview-high">4</span></div>
            <div><span>Medium risk issues</span><span id="overview-medium">12</span></div>
          </div>
          <div class="filters" role="group" aria-label="Filter results">
            <button type="button" class="button btn-secondary">Focus order</button>
            <button type="button" class="button btn-secondary">Color contrast</button>
            <button type="button" class="button btn-secondary">Landmarks</button>
            <button type="button" class="button btn-secondary">Forms</button>
          </div>
        </article>

        <article id="step-5" class="wizard-step" role="tabpanel" aria-labelledby="step-label-5" aria-hidden="true">
          <h3 id="step-label-5">Step 5: Drilldown &amp; Export</h3>
          <p>Review issues by guideline and select your preferred export format.</p>
          <ul class="issues-list">
            <li>
              <strong>WCAG 2.4.3 Focus Order</strong>
              <p>Ensure focus order matches the visual order on pricing page.</p>
            </li>
            <li>
              <strong>WCAG 1.4.3 Contrast (Minimum)</strong>
              <p>Update CTA button colors to meet 4.5:1 contrast ratio.</p>
            </li>
            <li>
              <strong>WCAG 3.3.1 Error Identification</strong>
              <p>Add inline error messaging to the registration form.</p>
            </li>
          </ul>
          <div class="export-options" role="group" aria-label="Export options">
            <label><input type="radio" name="export" value="pdf" checked> PDF report</label>
            <label><input type="radio" name="export" value="csv"> CSV issue log</label>
            <label><input type="radio" name="export" value="json"> JSON for integrations</label>
          </div>
          <button type="button" class="button btn-primary" id="export-btn">Export report</button>
          <div class="status-log" aria-live="assertive" id="export-status">
            <p>No export requested yet.</p>
          </div>
        </article>
      </div>

      <div class="button-group">
        <button type="button" class="button btn-secondary" id="prev-btn" disabled>Previous</button>
        <button type="button" class="button btn-primary" id="next-btn">Next</button>
      </div>
    </section>
  </main>

  <script>
    const steps = Array.from(document.querySelectorAll('.wizard-step'));
    const stepButtons = Array.from(document.querySelectorAll('.stepper button'));
    const prevBtn = document.getElementById('prev-btn');
    const nextBtn = document.getElementById('next-btn');
    const statusLog = document.getElementById('export-status');
    const exportBtn = document.getElementById('export-btn');
    const scanTimer = document.getElementById('scan-timer');
    const pagesQueued = document.getElementById('pages-queued');
    const criticalErrors = document.getElementById('critical-errors');
    const warningCount = document.getElementById('warning-count');

    let currentStep = 0;
    let scanInterval;

    function setStep(newStep, options = {}) {
      const { focusPanel = false } = options;
      if (newStep < 0 || newStep >= steps.length) return;

      if (scanInterval && newStep !== 2) {
        clearInterval(scanInterval);
        scanInterval = undefined;
      }

      steps.forEach((panel, index) => {
        const isActive = index === newStep;
        panel.classList.toggle('active', isActive);
        panel.setAttribute('aria-hidden', String(!isActive));
      });

      stepButtons.forEach((btn, index) => {
        const isActive = index === newStep;
        btn.classList.toggle('active', isActive);
        if (isActive) {
          btn.setAttribute('aria-current', 'step');
        } else {
          btn.removeAttribute('aria-current');
        }
      });

      prevBtn.disabled = newStep === 0;
      nextBtn.textContent = newStep === steps.length - 1 ? 'Finish' : 'Next';
      currentStep = newStep;

      if (focusPanel) {
        const focusable = steps[newStep].querySelector(
          'input, select, textarea, button, [tabindex]'
        );
        if (focusable) {
          focusable.focus({ preventScroll: true });
        }
      }
    }

    function handleStepperClick(event) {
      const target = event.target.closest('button[data-step]');
      if (!target) return;
      const targetStep = parseInt(target.dataset.step, 10) - 1;
      setStep(targetStep, { focusPanel: true });
      if (targetStep === 2) {
        simulateScanProgress();
      }
    }

    function simulateScanProgress() {
      scanTimer.textContent = '45';
      pagesQueued.textContent = '18';
      criticalErrors.textContent = '0';
      warningCount.textContent = '0';

      let timeRemaining = 45;
      let queued = 18;

      clearInterval(scanInterval);
      scanInterval = setInterval(() => {
        if (timeRemaining > 0) {
          timeRemaining -= 1;
          scanTimer.textContent = String(timeRemaining);
          if (queued > 0 && timeRemaining % 5 === 0) {
            queued -= 2;
            pagesQueued.textContent = String(Math.max(queued, 0));
          }
          if (timeRemaining % 9 === 0) {
            warningCount.textContent = String(parseInt(warningCount.textContent, 10) + 1);
          }
        } else {
          clearInterval(scanInterval);
          criticalErrors.textContent = '2';
          warningCount.textContent = '6';
          pagesQueued.textContent = '0';
          setTimeout(() => setStep(3, { focusPanel: true }), 400);
        }
      }, 1000);
    }

    function handleNext() {
      if (currentStep === 1) {
        setStep(currentStep + 1, { focusPanel: true });
        simulateScanProgress();
        return;
      }

      if (currentStep < steps.length - 1) {
        setStep(currentStep + 1, { focusPanel: true });
      } else {
        statusLog.innerHTML = '<p>Wizard complete. Ready to export or restart.</p>';
      }
    }

    function handlePrev() {
      if (currentStep > 0) {
        setStep(currentStep - 1, { focusPanel: true });
      }
    }

    function handleExport() {
      statusLog.innerHTML = '<p>Preparing your report…</p>';
      setTimeout(() => {
        statusLog.innerHTML = '<p>✅ Export complete. Your PDF report is ready!</p>';
      }, 1200);
    }

    prevBtn.addEventListener('click', handlePrev);
    nextBtn.addEventListener('click', handleNext);
    exportBtn.addEventListener('click', handleExport);
    document.querySelector('.stepper').addEventListener('click', handleStepperClick);

    setStep(currentStep, { focusPanel: true });
  </script>
</body>
</html>
